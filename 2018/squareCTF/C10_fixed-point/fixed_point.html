<html>
<head>
  <meta charset="UTF-8">
  <style>
  body > * {
    margin-top: 5rem;
  }
  body {
    display: flex;
    flex-flow: column;
    margin: 0 auto;
    width: 500px;
  }
  div {
    flex: 1 0;
    align-items: flex-end;
  }
  textarea {
    width: 100%;
    flex: 5 0;
    height: 10rem;
  }
  </style>
</head>
<body>
  <div>
    <h1>ğŸŒ— ğŸš€ ğŸ‘½ ğŸ“¡ ğŸŒ“</h1>
    <p>Find <i>x</i>, such that Æ’(<i>x</i>) = <i>x</i></p>
    <textarea id="input" value="" type="text" onInput="check()"></textarea>
    <div id="result"></div>
  </div>
<script>
function check() {
  var i = input.value.replace(/\s/g, '');
  if (i == "") {
    result.innerText = "";
  } else {
    var t = f(i);
    if (t == i) {
      result.innerText = "good!";
    } else {
      result.innerText = "bad! (" + t + " != " + i + ")";
    }
  }
}

function f(x) {
  if ((x.substr(0, 2) == 'ğŸš€') && (x.slice(-2) == 'ğŸš€')) {  // if begin and end with ğŸš€
    return x.slice(2, -2);                                  // return what's between
  }
  if (x.substr(0, 2) == 'ğŸ‘½') {                             // if begin with ğŸ‘½
    return 'ğŸš€' + f(x.slice(2));                            // return f([1:])
  }
  if (x.substr(0, 2) == 'ğŸ“¡') {                             // if begin with ğŸ“¡
    return f(x.slice(2)).match(/..|/g).reverse().join("");  // return f([1:] reversed
  }
  if (x.substr(0, 2) == 'ğŸŒ—') {                             // if begin with ğŸŒ—
    return f(x.slice(2)).repeat(5);                         // return f([1:] * 5
  }
  if (x.substr(0, 2) == 'ğŸŒ“') {                             // if begin with ğŸŒ“
    var t = f(x.slice(2));                                  // return f([1:t/2])
    return t.substr(0, t.length/2);
  }

  return "";
}
</script>

<!-- puzzle by Alok + Matb -->

</body>
</html>
